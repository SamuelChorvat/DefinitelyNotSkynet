@using Microsoft.AspNetCore.Components
@using SkyNotes.Common.EntityModels.Sqlite
<EditForm Model="@Note" OnValidSubmit="@OnValidSubmit">
  <DataAnnotationsValidator />
  <div class="form-group">
    <div>
      <label>Relates To</label>
      <div>
        <InputText class="form-control" style="width: 100%;" @bind-Value="@Note.RelatesTo" />
        <ValidationMessage For="@(() => Note.RelatesTo)" />
      </div>
    </div>
  </div>
  <div class="form-group">
    <div>
      <label>Ticket ID</label>
      <div>
        <InputText class="form-control" placeholder="Optional" style="width: 100%;" @bind-Value="@Note.TicketId" />
        <ValidationMessage For="@(() => Note.TicketId)" />
      </div>
    </div>
  </div>
  <div class="form-group">
    <div>
      <label>Content</label>
      <div>
        <textarea class="form-control textarea-resizable" style="width: 100%;" @bind="@Note.NoteText"></textarea>
        <ValidationMessage For="@(() => Note.NoteText)" />
      </div>
    </div>
  </div>
  <button type="submit" class="btn btn-@ButtonStyle" style="margin-top: 10px;">
    @ButtonText
  </button>
</EditForm>

@code { 
  [Parameter]
  public Note Note { get; set; } = null!;

  [Parameter]
  public string ButtonText { get; set; } = "Save Changes";
  
  [Parameter]
  public string ButtonStyle { get; set; } = "info";
  
  [Parameter]
  public EventCallback OnValidSubmit { get; set; }
}